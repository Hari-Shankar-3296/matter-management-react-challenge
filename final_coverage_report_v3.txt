
> matter-management-react-challenge@1.0.0 test
> vitest --coverage --run -u

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/gnanapriya/projects/matter-management-react-challenge
      Coverage enabled with v8

stderr | src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > provides initial default theme
TypeError: window.matchMedia is not a function
    at /Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:45:35
    at commitHookEffectListMount (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at /Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:26808:9
    at flushActQueue (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react/cjs/react.development.js:2667:24)
The above error occurred in the <ThemeProvider> component:

    at ThemeProvider (/Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:22:26)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > toggles theme correctly
TypeError: window.matchMedia is not a function
    at /Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:45:35
    at commitHookEffectListMount (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at /Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:26808:9
    at flushActQueue (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react/cjs/react.development.js:2667:24)
The above error occurred in the <ThemeProvider> component:

    at ThemeProvider (/Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:22:26)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > sets theme explicitly
TypeError: window.matchMedia is not a function
    at /Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:45:35
    at commitHookEffectListMount (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
    at commitPassiveMountOnFiber (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
    at commitPassiveMountEffects_complete (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
    at commitPassiveMountEffects_begin (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
    at commitPassiveMountEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
    at flushPassiveEffectsImpl (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
    at flushPassiveEffects (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
    at /Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react-dom/cjs/react-dom.development.js:26808:9
    at flushActQueue (/Users/gnanapriya/projects/matter-management-react-challenge/node_modules/react/cjs/react.development.js:2667:24)
The above error occurred in the <ThemeProvider> component:

    at ThemeProvider (/Users/gnanapriya/projects/matter-management-react-challenge/src/contexts/ThemeContext/ThemeContext.tsx:22:26)

Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

stderr | src/pages/TicketsPage/TicketsPage.test.tsx > TicketsPage > renders page header and add button
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚ùØ src/contexts/ThemeContext/ThemeContext.test.tsx  (4 tests | 3 failed) 35ms
   ‚ùØ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > provides initial default theme
     ‚Üí window.matchMedia is not a function
   ‚ùØ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > toggles theme correctly
     ‚Üí window.matchMedia is not a function
   ‚ùØ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > sets theme explicitly
     ‚Üí window.matchMedia is not a function
 ‚úì src/pages/MyTicketsPage/MyTicketsPage.test.tsx  (3 tests) 39ms
 ‚úì src/contexts/AuthContext/AuthContext.test.tsx  (4 tests) 62ms
 ‚úì src/components/TicketCard/TicketCard.test.tsx  (4 tests) 65ms
 ‚úì src/pages/TicketsPage/TicketsPage.test.tsx  (4 tests) 61ms
stderr | src/components/Header/Header.test.tsx > Header Component > renders the app logo and name
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/components/Header/Header.test.tsx  (5 tests) 118ms
 ‚úì src/components/TicketForm/TicketForm.test.tsx  (4 tests) 125ms
 ‚úì src/hooks/useTickets/useTickets.test.tsx  (4 tests) 237ms
 ‚úì src/utils/dateUtils/dateUtils.test.ts  (10 tests) 5ms
stderr | src/pages/LoginPage/LoginPage.test.tsx > LoginPage > renders login form correctly
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/pages/DashboardPage/DashboardPage.test.tsx  (3 tests) 37ms
 ‚úì src/components/TicketTableRow/TicketTableRow.test.tsx  (3 tests) 62ms
 ‚úì src/pages/KanbanPage/KanbanPage.test.tsx  (2 tests) 37ms
stderr | src/components/ProtectedRoute/ProtectedRoute.test.tsx > ProtectedRoute > renders children when authenticated
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/components/ProtectedRoute/ProtectedRoute.test.tsx  (3 tests) 26ms
 ‚úì src/pages/LoginPage/LoginPage.test.tsx  (4 tests) 126ms
 ‚úì src/components/KanbanCard/KanbanCard.test.tsx  (3 tests) 51ms
 ‚úì src/components/Modal/Modal.test.tsx  (5 tests) 46ms
 ‚úì src/pages/UserProfilePage/UserProfilePage.test.tsx  (2 tests) 40ms
 ‚úì src/utils/queryKeys/queryKeys.test.ts  (11 tests) 3ms
 ‚úì src/components/AssigneeSelector/AssigneeSelector.test.tsx  (3 tests) 89ms
 ‚úì src/components/ConfirmationModal/ConfirmationModal.test.tsx  (3 tests) 75ms
 ‚úì src/components/KanbanColumn/KanbanColumn.test.tsx  (2 tests) 71ms
 ‚úì src/components/TicketDetail/TicketDetail.test.tsx  (2 tests) 46ms
stderr | src/pages/HomePage/HomePage.test.tsx > HomePage > renders correctly for unauthenticated user
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/pages/HomePage/HomePage.test.tsx  (2 tests) 37ms
 ‚úì src/hooks/useUsers/useUsers.test.tsx  (2 tests) 125ms
 ‚úì src/components/Badge/Badge.test.tsx  (5 tests) 40ms
stderr | src/components/TicketFiltersComponent/TicketFiltersComponent.test.tsx > TicketFiltersComponent > renders search input and dropdowns
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/components/TicketFiltersComponent/TicketFiltersComponent.test.tsx  (3 tests) 56ms
 ‚úì src/components/TicketList/TicketList.test.tsx  (2 tests) 32ms
 ‚úì src/components/TicketTable/TicketTable.test.tsx  (2 tests) 35ms
stderr | src/components/HeroSection/HeroSection.test.tsx > HeroSection > renders hero content for unauthenticated user
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/components/TicketListMini/TicketListMini.test.tsx  (3 tests) 33ms
 ‚úì src/components/HeroSection/HeroSection.test.tsx  (2 tests) 36ms
 ‚úì src/components/DashboardChart/DashboardChart.test.tsx  (2 tests) 49ms
stderr | src/components/Layout/Layout.test.tsx > Layout > renders header and outlet content
‚ö†Ô∏è React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
‚ö†Ô∏è React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 ‚úì src/components/Layout/Layout.test.tsx  (1 test) 30ms
 ‚úì src/components/TeamMemberItem/TeamMemberItem.test.tsx  (1 test) 24ms
 ‚úì src/components/StatCard/StatCard.test.tsx  (2 tests) 24ms
 ‚úì src/components/ProfileSection/ProfileSection.test.tsx  (1 test) 22ms
 ‚úì src/components/FeatureCard/FeatureCard.test.tsx  (1 test) 23ms
 ‚úì src/services/users/users.test.ts  (5 tests) 1008ms
 ‚úì src/services/api/api.test.ts  (11 tests) 3527ms

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ Failed Tests 3 ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ

 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > provides initial default theme
 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > toggles theme correctly
 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > sets theme explicitly
TypeError: window.matchMedia is not a function
 ‚ùØ src/contexts/ThemeContext/ThemeContext.tsx:45:35
     43|     useEffect(() => {
     44|         // Listen for system theme changes
     45|         const mediaQuery = window.matchMedia('(prefers-color-scheme: d‚Ä¶
       |                                   ^
     46|         const handleChange = (e: MediaQueryListEvent) => {
     47|             // Only update if user hasn't set a preference
 ‚ùØ commitHookEffectListMount node_modules/react-dom/cjs/react-dom.development.js:23189:26
 ‚ùØ commitPassiveMountOnFiber node_modules/react-dom/cjs/react-dom.development.js:24970:11
 ‚ùØ commitPassiveMountEffects_complete node_modules/react-dom/cjs/react-dom.development.js:24930:9
 ‚ùØ commitPassiveMountEffects_begin node_modules/react-dom/cjs/react-dom.development.js:24917:7
 ‚ùØ commitPassiveMountEffects node_modules/react-dom/cjs/react-dom.development.js:24905:3
 ‚ùØ flushPassiveEffectsImpl node_modules/react-dom/cjs/react-dom.development.js:27078:3
 ‚ùØ flushPassiveEffects node_modules/react-dom/cjs/react-dom.development.js:27023:14
 ‚ùØ node_modules/react-dom/cjs/react-dom.development.js:26808:9
 ‚ùØ flushActQueue node_modules/react/cjs/react.development.js:2667:24

‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ‚éØ[1/3]‚éØ

 Test Files  1 failed | 37 passed (38)
      Tests  3 failed | 130 passed (133)
   Start at  03:18:45
   Duration  4.49s (transform 1.16s, setup 8ms, collect 5.07s, tests 6.56s, environment 15.43s, prepare 2.46s)

