
> matter-management-react-challenge@1.0.0 test
> vitest --coverage --run -u

[33mThe CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.[39m

 RUN  v1.6.1 /Users/gnanapriya/projects/matter-management-react-challenge
      Coverage enabled with v8

(node:63828) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/contexts/AuthContext/AuthContext.test.tsx  (4 tests | 4 failed) 4ms
   â¯ src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > provides initial unauthenticated state
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > logs in a user successfully
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > logs out a user
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > throws error if useAuth is used outside provider
     â†’ window.localStorage.clear is not a function
stderr | src/pages/TicketsPage/TicketsPage.test.tsx > TicketsPage > renders page header and add button
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

stderr | src/pages/LoginPage/LoginPage.test.tsx > LoginPage > renders login form correctly
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/pages/TicketsPage/TicketsPage.test.tsx  (4 tests) 47ms
 âœ“ src/pages/MyTicketsPage/MyTicketsPage.test.tsx  (3 tests) 64ms
 âœ“ src/components/TicketCard/TicketCard.test.tsx  (4 tests) 63ms
stderr | src/components/Header/Header.test.tsx > Header Component > renders the app logo and name
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/components/TicketForm/TicketForm.test.tsx  (4 tests) 134ms
 âœ“ src/pages/LoginPage/LoginPage.test.tsx  (4 tests) 120ms
 âœ“ src/components/Header/Header.test.tsx  (5 tests) 107ms
 âœ“ src/hooks/useTickets/useTickets.test.tsx  (4 tests) 234ms
 âœ“ src/utils/dateUtils/dateUtils.test.ts  (10 tests) 7ms
 âœ“ src/pages/DashboardPage/DashboardPage.test.tsx  (3 tests) 38ms
 âœ“ src/pages/KanbanPage/KanbanPage.test.tsx  (2 tests) 36ms
(node:63828) Warning: `--localstorage-file` was provided without a valid path
(Use `node --trace-warnings ...` to show where the warning was created)
 â¯ src/contexts/ThemeContext/ThemeContext.test.tsx  (4 tests | 4 failed) 4ms
   â¯ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > provides initial default theme
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > toggles theme correctly
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > sets theme explicitly
     â†’ window.localStorage.clear is not a function
   â¯ src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > throws error if useTheme is used outside provider
     â†’ window.localStorage.clear is not a function
stderr | src/components/ProtectedRoute/ProtectedRoute.test.tsx > ProtectedRoute > renders children when authenticated
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/components/KanbanCard/KanbanCard.test.tsx  (3 tests) 46ms
 âœ“ src/components/TicketTableRow/TicketTableRow.test.tsx  (3 tests) 45ms
 âœ“ src/components/ProtectedRoute/ProtectedRoute.test.tsx  (3 tests) 30ms
 âœ“ src/components/Modal/Modal.test.tsx  (5 tests) 70ms
 âœ“ src/utils/queryKeys/queryKeys.test.ts  (11 tests) 7ms
 âœ“ src/pages/UserProfilePage/UserProfilePage.test.tsx  (2 tests) 40ms
 âœ“ src/components/AssigneeSelector/AssigneeSelector.test.tsx  (3 tests) 78ms
 âœ“ src/components/ConfirmationModal/ConfirmationModal.test.tsx  (3 tests) 76ms
 âœ“ src/components/KanbanColumn/KanbanColumn.test.tsx  (2 tests) 52ms
 âœ“ src/components/TicketDetail/TicketDetail.test.tsx  (2 tests) 47ms
 âœ“ src/hooks/useUsers/useUsers.test.tsx  (2 tests) 126ms
stderr | src/pages/HomePage/HomePage.test.tsx > HomePage > renders correctly for unauthenticated user
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/pages/HomePage/HomePage.test.tsx  (2 tests) 32ms
stderr | src/components/TicketFiltersComponent/TicketFiltersComponent.test.tsx > TicketFiltersComponent > renders search input and dropdowns
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/components/TicketFiltersComponent/TicketFiltersComponent.test.tsx  (3 tests) 64ms
 âœ“ src/components/Badge/Badge.test.tsx  (5 tests) 50ms
 âœ“ src/components/TicketList/TicketList.test.tsx  (2 tests) 50ms
 âœ“ src/components/TicketTable/TicketTable.test.tsx  (2 tests) 35ms
 âœ“ src/components/TicketListMini/TicketListMini.test.tsx  (3 tests) 43ms
stderr | src/components/HeroSection/HeroSection.test.tsx > HeroSection > renders hero content for unauthenticated user
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/components/HeroSection/HeroSection.test.tsx  (2 tests) 35ms
 âœ“ src/components/DashboardChart/DashboardChart.test.tsx  (2 tests) 51ms
stderr | src/components/Layout/Layout.test.tsx > Layout > renders header and outlet content
âš ï¸ React Router Future Flag Warning: React Router will begin wrapping state updates in `React.startTransition` in v7. You can use the `v7_startTransition` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_starttransition.
âš ï¸ React Router Future Flag Warning: Relative route resolution within Splat routes is changing in v7. You can use the `v7_relativeSplatPath` future flag to opt-in early. For more information, see https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath.

 âœ“ src/components/TeamMemberItem/TeamMemberItem.test.tsx  (1 test) 23ms
 âœ“ src/components/StatCard/StatCard.test.tsx  (2 tests) 24ms
 âœ“ src/components/Layout/Layout.test.tsx  (1 test) 25ms
 âœ“ src/components/ProfileSection/ProfileSection.test.tsx  (1 test) 23ms
 âœ“ src/components/FeatureCard/FeatureCard.test.tsx  (1 test) 23ms
 âœ“ src/services/users/users.test.ts  (5 tests) 1008ms
 âœ“ src/services/api/api.test.ts  (11 tests) 3531ms

â¯â¯â¯â¯â¯â¯â¯ Failed Tests 8 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > provides initial unauthenticated state
 FAIL  src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > logs in a user successfully
 FAIL  src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > logs out a user
 FAIL  src/contexts/AuthContext/AuthContext.test.tsx > AuthContext > throws error if useAuth is used outside provider
TypeError: window.localStorage.clear is not a function
 â¯ src/contexts/AuthContext/AuthContext.test.tsx:26:29
     24| describe('AuthContext', () => {
     25|     beforeEach(() => {
     26|         window.localStorage.clear();
       |                             ^
     27|         vi.clearAllMocks();
     28|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/8]â¯

 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > provides initial default theme
 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > toggles theme correctly
 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > sets theme explicitly
 FAIL  src/contexts/ThemeContext/ThemeContext.test.tsx > ThemeContext > throws error if useTheme is used outside provider
TypeError: window.localStorage.clear is not a function
 â¯ src/contexts/ThemeContext/ThemeContext.test.tsx:19:29
     17| describe('ThemeContext', () => {
     18|     beforeEach(() => {
     19|         window.localStorage.clear();
       |                             ^
     20|         document.documentElement.removeAttribute('data-theme');
     21|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/8]â¯

 Test Files  2 failed | 36 passed (38)
      Tests  8 failed | 125 passed (133)
   Start at  03:18:14
   Duration  4.52s (transform 1.11s, setup 1ms, collect 4.92s, tests 6.49s, environment 14.67s, prepare 2.67s)

