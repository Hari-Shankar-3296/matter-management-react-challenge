const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LoginPage-Dfr6BMmz.js","./vendor-query-30WTYxUa.js","./vendor-react-3BJtw-ek.js","./HomePage-BUpUbfnE.js","./DashboardPage-Cggs3H8a.js","./useTickets-D2PJlkea.js","./queryKeys-D-dtdCA2.js","./vendor-charts-D9fTa4NR.js","./TicketsPage-CdcOnOSy.js","./useUsers-vmEtP205.js","./Badge-aCoWILHI.js","./KanbanPage-DQFyNDB4.js","./MyTicketsPage-B6jv1Qbo.js","./UserProfilePage-D76CTkUd.js"])))=>i.map(i=>d[i]);
import{j as e,Q as D,a as M}from"./vendor-query-30WTYxUa.js";import{a as B,r as i,u as U,N as j,O as $,b as K,c as y,d as H,e as h,f as V,H as z}from"./vendor-react-3BJtw-ek.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();var w={},P=B;w.createRoot=P.createRoot,w.hydrateRoot=P.hydrateRoot;const q="modulepreload",F=function(t,o){return new URL(t,o).href},T={},g=function(o,s,l){let r=Promise.resolve();if(s&&s.length>0){const c=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),u=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(s.map(m=>{if(m=F(m,l),m in T)return;T[m]=!0;const p=m.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(!!l)for(let v=c.length-1;v>=0;v--){const N=c[v];if(N.href===m&&(!p||N.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${m}"]${d}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":q,p||(f.as="script"),f.crossOrigin="",f.href=m,u&&f.setAttribute("nonce",u),document.head.appendChild(f),p)return new Promise((v,N)=>{f.addEventListener("load",v),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function n(c){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=c,window.dispatchEvent(a),!a.defaultPrevented)throw c}return r.then(c=>{for(const a of c||[])a.status==="rejected"&&n(a.reason);return o().catch(n)})};var G=function(){return null};const S=i.createContext(void 0),I="matter-management-theme",J=()=>typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark",A=()=>{if(typeof window<"u"){const t=localStorage.getItem(I);if(t==="light"||t==="dark")return t}return null},Q=({children:t})=>{const[o,s]=i.useState(()=>A()||J());i.useEffect(()=>{document.documentElement.setAttribute("data-theme",o),localStorage.setItem(I,o)},[o]),i.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),c=a=>{A()||s(a.matches?"dark":"light")};return n.addEventListener("change",c),()=>n.removeEventListener("change",c)},[]);const l=()=>{s(n=>n==="dark"?"light":"dark")},r=n=>{s(n)};return e.jsx(S.Provider,{value:{theme:o,toggleTheme:l,setTheme:r},children:t})},Y=()=>{const t=i.useContext(S);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},L=[{id:"user-1",firstName:"Harishankar",lastName:"Devaraj",email:"harishankar3293@gmail.com",avatar:void 0},{id:"user-2",firstName:"Max",lastName:"Nash",email:"max.nash@checkbox.com",avatar:void 0},{id:"user-3",firstName:"John",lastName:"Doe",email:"john.doe@checkbox.com",avatar:void 0},{id:"user-4",firstName:"Jane",lastName:"Doe",email:"jane.doe@checkbox.com",avatar:void 0}],C=t=>new Promise(o=>setTimeout(o,t)),fe=async()=>(await C(200),L),W=async t=>(await C(300),L.find(s=>s.email.toLowerCase()===t.toLowerCase())||null),b=i.createContext(void 0),E="matter-management-user",X=({children:t})=>{const[o,s]=i.useState(null),[l,r]=i.useState(!0);i.useEffect(()=>{const a=localStorage.getItem(E);if(a)try{s(JSON.parse(a))}catch{localStorage.removeItem(E)}r(!1)},[]);const n=async a=>{r(!0);try{const u=await W(a);return u?(s(u),localStorage.setItem(E,JSON.stringify(u)),!0):!1}finally{r(!1)}},c=()=>{s(null),localStorage.removeItem(E)};return e.jsx(b.Provider,{value:{user:o,isAuthenticated:!!o,isLoading:l,login:n,logout:c,users:L},children:t})},_=()=>{const t=i.useContext(b);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Z=""+new URL("CheckBoxLogo-B6JA2VXM.svg",import.meta.url).href,ee="Matter Management",x={DASHBOARD:"/",TICKETS:"/tickets",KANBAN:"/kanban",MY_TICKETS:"/my-tickets",PROFILE:"/profile",LOGIN:"/login"},xe={ITEM:"Matter",ITEMS:"Matters",item:"matter",items:"matters",ROUTES:x},te=()=>{const{theme:t,toggleTheme:o}=Y(),{user:s,logout:l,isAuthenticated:r}=_(),n=U(),[c,a]=i.useState(!1),u=i.useRef(null);i.useEffect(()=>{const d=k=>{u.current&&!u.current.contains(k.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[]);const m=()=>{l(),a(!1),n(x.LOGIN)},p=s?`${s.firstName[0]}${s.lastName[0]}`.toUpperCase():"";return e.jsx("header",{className:"header",children:e.jsxs("div",{className:"header-container",children:[e.jsxs(j,{to:x.DASHBOARD,className:"header-logo",children:[e.jsx("div",{style:{height:"50px",width:"220px",backgroundColor:t==="dark"?"transparent":"#000000ff",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"10px"},children:e.jsx("img",{src:Z,alt:"Logo",style:{height:"40px",width:"200px"}})}),e.jsx("span",{className:"logo-text",children:ee})]}),r&&e.jsxs("nav",{className:"header-nav",children:[e.jsx(j,{to:x.DASHBOARD,end:!0,className:({isActive:d})=>`nav-link ${d?"active":""}`,children:"Dashboard"}),e.jsx(j,{to:x.TICKETS,className:({isActive:d})=>`nav-link ${d?"active":""}`,children:"Matters"}),e.jsx(j,{to:x.KANBAN,className:({isActive:d})=>`nav-link ${d?"active":""}`,children:"Kanban Board"}),e.jsx(j,{to:x.MY_TICKETS,className:({isActive:d})=>`nav-link ${d?"active":""}`,children:"My Matters"})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("div",{className:"theme-switch",onClick:o,children:[e.jsx("span",{className:"theme-switch-icon light",children:"â˜€ï¸"}),e.jsx("span",{className:"theme-switch-icon dark",children:"ðŸŒ™"}),e.jsx("div",{className:"theme-switch-handle"})]}),r&&s&&e.jsxs("div",{className:"user-menu-container",ref:u,children:[e.jsx("button",{className:`avatar-circle user-avatar-btn ${c?"active":""}`,onClick:()=>a(!c),title:`${s.firstName} ${s.lastName}`,children:p}),c&&e.jsxs("div",{className:"user-dropdown",children:[e.jsxs("div",{className:"user-dropdown-header",children:[e.jsxs("span",{className:"dropdown-name",children:[s.firstName," ",s.lastName]}),e.jsx("span",{className:"dropdown-email",children:s.email})]}),e.jsxs("button",{className:"dropdown-item",onClick:()=>{n(x.PROFILE),a(!1)},children:[e.jsx("span",{children:"ðŸ‘¤"})," Profile"]}),e.jsxs("button",{className:"dropdown-item danger",onClick:m,children:[e.jsx("span",{children:"ðŸšª"})," Logout"]})]})]})]})]})})},se=()=>e.jsxs("div",{className:"layout",children:[e.jsx(te,{}),e.jsx("main",{className:"main-content",children:e.jsx($,{})})]}),re=({children:t})=>{const{isAuthenticated:o,isLoading:s}=_(),l=K();return s?e.jsx("div",{className:"loading",children:"Loading..."}):o?e.jsx(e.Fragment,{children:t}):e.jsx(y,{to:"/login",state:{from:l},replace:!0})},ne=i.lazy(()=>g(()=>import("./LoginPage-Dfr6BMmz.js"),__vite__mapDeps([0,1,2]),import.meta.url)),ae=i.lazy(()=>g(()=>import("./HomePage-BUpUbfnE.js"),__vite__mapDeps([3,1,2]),import.meta.url)),oe=i.lazy(()=>g(()=>import("./DashboardPage-Cggs3H8a.js"),__vite__mapDeps([4,1,2,5,6,7]),import.meta.url)),R=i.lazy(()=>g(()=>import("./TicketsPage-CdcOnOSy.js"),__vite__mapDeps([8,1,2,5,6,9,10]),import.meta.url)),ie=i.lazy(()=>g(()=>import("./KanbanPage-DQFyNDB4.js"),__vite__mapDeps([11,1,2,5,6,10,9]),import.meta.url)),ce=i.lazy(()=>g(()=>import("./MyTicketsPage-B6jv1Qbo.js"),__vite__mapDeps([12,1,2,5,6,10,9]),import.meta.url)),le=i.lazy(()=>g(()=>import("./UserProfilePage-D76CTkUd.js"),__vite__mapDeps([13,1,2,9,6]),import.meta.url)),O=()=>e.jsxs("div",{className:"loading-screen",children:[e.jsx("div",{className:"loader"}),e.jsx("p",{children:"Loading..."})]});function de(){const{isAuthenticated:t,isLoading:o}=_();return o?e.jsx(O,{}):e.jsx(i.Suspense,{fallback:e.jsx(O,{}),children:e.jsxs(H,{children:[e.jsx(h,{path:"/login",element:t?e.jsx(y,{to:"/",replace:!0}):e.jsx(ne,{})}),e.jsxs(h,{element:e.jsx(re,{children:e.jsx(se,{})}),children:[e.jsx(h,{path:"/",element:e.jsx(oe,{})}),e.jsx(h,{path:"/home",element:e.jsx(ae,{})}),e.jsx(h,{path:"/tickets",element:e.jsx(R,{})}),e.jsx(h,{path:"/tickets/:ticketId",element:e.jsx(R,{})}),e.jsx(h,{path:"/kanban",element:e.jsx(ie,{})}),e.jsx(h,{path:"/my-tickets",element:e.jsx(ce,{})}),e.jsx(h,{path:"/profile",element:e.jsx(le,{})})]}),e.jsx(h,{path:"*",element:e.jsx(y,{to:"/",replace:!0})})]})})}const me=new D({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e4}}});w.createRoot(document.getElementById("root")).render(e.jsx(V.StrictMode,{children:e.jsxs(M,{client:me,children:[e.jsx(z,{children:e.jsx(Q,{children:e.jsx(X,{children:e.jsx(de,{})})})}),e.jsx(G,{initialIsOpen:!1})]})}));export{xe as T,fe as f,_ as u};
